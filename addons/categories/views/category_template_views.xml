<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- Category Template Tree View -->
        <record id="view_product_category_template_tree" model="ir.ui.view">
            <field name="name">product.category.template.tree</field>
            <field name="model">product.category.template</field>
            <field name="arch" type="xml">
                <tree string="Category Templates" default_order="name">
                    <field name="name"/>
                    <field name="age_group"/>
                    <field name="gender"/>
                    <field name="season"/>
                    <field name="brand_type"/>
                    <field name="style_type"/>
                    <field name="color_family"/>
                    <field name="size_range"/>
                    <field name="default_margin"/>
                    <field name="min_margin"/>
                    <field name="max_margin"/>
                    <field name="usage_count"/>
                    <field name="active"/>
                </tree>
            </field>
        </record>
        
        <!-- Category Template Form View -->
        <record id="view_product_category_template_form" model="ir.ui.view">
            <field name="name">product.category.template.form</field>
            <field name="model">product.category.template</field>
            <field name="arch" type="xml">
                <form string="Category Template">
                    <header>
                        <button name="duplicate_template" string="Duplicate" type="object" class="btn-secondary"/>
                        <button name="archive" string="Archive" type="object" class="btn-secondary" attrs="{'invisible': [('active', '=', False)]}"/>
                        <button name="unarchive" string="Unarchive" type="object" class="btn-primary" attrs="{'invisible': [('active', '=', True)]}"/>
                        <field name="active" widget="boolean_button" options="{'terminology': 'archive'}"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button name="get_categories" type="object" class="oe_stat_button" icon="fa-sitemap">
                                <field name="usage_count" widget="statinfo" string="Usage"/>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="Template Name"/>
                            </h1>
                        </div>
                        <group>
                            <group name="basic_info">
                                <field name="description"/>
                            </group>
                            <group name="kids_clothing">
                                <field name="age_group"/>
                                <field name="gender"/>
                                <field name="season"/>
                                <field name="brand_type"/>
                                <field name="style_type"/>
                                <field name="color_family"/>
                                <field name="size_range"/>
                            </group>
                        </group>
                        <group>
                            <group name="business_rules">
                                <field name="min_age_months"/>
                                <field name="max_age_months"/>
                                <field name="min_height_cm"/>
                                <field name="max_height_cm"/>
                                <field name="min_weight_kg"/>
                                <field name="max_weight_kg"/>
                            </group>
                            <group name="pricing_rules">
                                <field name="default_margin"/>
                                <field name="min_margin"/>
                                <field name="max_margin"/>
                            </group>
                        </group>
                        <group>
                            <field name="company_id"/>
                        </group>
                        <notebook>
                            <page string="Usage" name="usage">
                                <field name="usage_count" readonly="1"/>
                                <tree string="Categories Using This Template">
                                    <field name="name"/>
                                    <field name="complete_name"/>
                                    <field name="age_group"/>
                                    <field name="gender"/>
                                    <field name="season"/>
                                    <field name="product_count"/>
                                    <field name="active"/>
                                </tree>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        
        <!-- Category Template Search View -->
        <record id="view_product_category_template_search" model="ir.ui.view">
            <field name="name">product.category.template.search</field>
            <field name="model">product.category.template</field>
            <field name="arch" type="xml">
                <search string="Category Templates">
                    <field name="name"/>
                    <field name="description"/>
                    <field name="age_group"/>
                    <field name="gender"/>
                    <field name="season"/>
                    <field name="brand_type"/>
                    <field name="style_type"/>
                    <field name="color_family"/>
                    <field name="size_range"/>
                    <filter string="Active" name="active" domain="[('active', '=', True)]"/>
                    <filter string="Archived" name="archived" domain="[('active', '=', False)]"/>
                    <filter string="Babywear" name="babywear" domain="[('age_group', '=', '0-2')]"/>
                    <filter string="Toddler" name="toddler" domain="[('age_group', '=', '2-4')]"/>
                    <filter string="Teen" name="teen" domain="[('age_group', '=', '12-16')]"/>
                    <filter string="Boys" name="boys" domain="[('gender', '=', 'boys')]"/>
                    <filter string="Girls" name="girls" domain="[('gender', '=', 'girls')]"/>
                    <filter string="Unisex" name="unisex" domain="[('gender', '=', 'unisex')]"/>
                    <filter string="Summer" name="summer" domain="[('season', '=', 'summer')]"/>
                    <filter string="Winter" name="winter" domain="[('season', '=', 'winter')]"/>
                    <filter string="Monsoon" name="monsoon" domain="[('season', '=', 'monsoon')]"/>
                    <filter string="All Season" name="all_season" domain="[('season', '=', 'all_season')]"/>
                    <filter string="Premium" name="premium" domain="[('brand_type', '=', 'premium')]"/>
                    <filter string="Mid Range" name="mid_range" domain="[('brand_type', '=', 'mid_range')]"/>
                    <filter string="Budget" name="budget" domain="[('brand_type', '=', 'budget')]"/>
                    <filter string="Casual" name="casual" domain="[('style_type', '=', 'casual')]"/>
                    <filter string="Formal" name="formal" domain="[('style_type', '=', 'formal')]"/>
                    <filter string="Party" name="party" domain="[('style_type', '=', 'party')]"/>
                    <filter string="Sports" name="sports" domain="[('style_type', '=', 'sports')]"/>
                    <filter string="Ethnic" name="ethnic" domain="[('style_type', '=', 'ethnic')]"/>
                    <filter string="Primary Colors" name="primary" domain="[('color_family', '=', 'primary')]"/>
                    <filter string="Pastel Colors" name="pastel" domain="[('color_family', '=', 'pastel')]"/>
                    <filter string="Neutral Colors" name="neutral" domain="[('color_family', '=', 'neutral')]"/>
                    <filter string="Bright Colors" name="bright" domain="[('color_family', '=', 'bright')]"/>
                    <filter string="XS-S" name="xs_s" domain="[('size_range', '=', 'xs_s')]"/>
                    <filter string="M-L" name="m_l" domain="[('size_range', '=', 'm_l')]"/>
                    <filter string="XL-XXL" name="xl_xxl" domain="[('size_range', '=', 'xl_xxl')]"/>
                    <filter string="XXXL+" name="xxxl_plus" domain="[('size_range', '=', 'xxxl_plus')]"/>
                    <filter string="All Sizes" name="all_sizes" domain="[('size_range', '=', 'all')]"/>
                    <group expand="0" string="Group By">
                        <filter string="Age Group" name="group_age_group" context="{'group_by': 'age_group'}"/>
                        <filter string="Gender" name="group_gender" context="{'group_by': 'gender'}"/>
                        <filter string="Season" name="group_season" context="{'group_by': 'season'}"/>
                        <filter string="Brand Type" name="group_brand_type" context="{'group_by': 'brand_type'}"/>
                        <filter string="Style Type" name="group_style_type" context="{'group_by': 'style_type'}"/>
                        <filter string="Color Family" name="group_color_family" context="{'group_by': 'color_family'}"/>
                        <filter string="Size Range" name="group_size_range" context="{'group_by': 'size_range'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!-- Category Template Kanban View -->
        <record id="view_product_category_template_kanban" model="ir.ui.view">
            <field name="name">product.category.template.kanban</field>
            <field name="model">product.category.template</field>
            <field name="arch" type="xml">
                <kanban string="Category Templates" default_group_by="age_group">
                    <field name="name"/>
                    <field name="age_group"/>
                    <field name="gender"/>
                    <field name="season"/>
                    <field name="usage_count"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card oe_kanban_global_click">
                                <div class="oe_kanban_content">
                                    <div class="oe_kanban_details">
                                        <strong class="oe_kanban_title">
                                            <field name="name"/>
                                        </strong>
                                        <div class="oe_kanban_tags">
                                            <span t-if="record.age_group.raw_value" class="oe_kanban_tag oe_kanban_tag_color_1">
                                                <field name="age_group"/>
                                            </span>
                                            <span t-if="record.gender.raw_value" class="oe_kanban_tag oe_kanban_tag_color_2">
                                                <field name="gender"/>
                                            </span>
                                            <span t-if="record.season.raw_value" class="oe_kanban_tag oe_kanban_tag_color_3">
                                                <field name="season"/>
                                            </span>
                                        </div>
                                        <div class="oe_kanban_footer">
                                            <div class="oe_kanban_footer_left">
                                                <span class="oe_kanban_footer_text">
                                                    <field name="usage_count"/> usage
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        
    </data>
</odoo>