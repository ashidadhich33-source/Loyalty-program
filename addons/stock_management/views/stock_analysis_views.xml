<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- Stock Analysis Tree View -->
        <record id="view_stock_analysis_tree" model="ir.ui.view">
            <field name="name">stock.analysis.tree</field>
            <field name="model">stock.analysis</field>
            <field name="arch" type="xml">
                <tree string="Stock Analysis" decoration-danger="state=='draft'" decoration-warning="state=='running'" decoration-success="state=='done'" decoration-muted="state=='cancelled'">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="warehouse_id"/>
                    <field name="analysis_type"/>
                    <field name="date_from"/>
                    <field name="date_to"/>
                    <field name="total_products"/>
                    <field name="total_stock_value"/>
                    <field name="total_stock_quantity"/>
                    <field name="average_turnover_rate"/>
                    <field name="state"/>
                    <field name="created_by"/>
                    <field name="done_date"/>
                </tree>
            </field>
        </record>
        
        <!-- Stock Analysis Form View -->
        <record id="view_stock_analysis_form" model="ir.ui.view">
            <field name="name">stock.analysis.form</field>
            <field name="model">stock.analysis</field>
            <field name="arch" type="xml">
                <form string="Stock Analysis">
                    <header>
                        <button name="action_run_analysis" string="Run Analysis" type="object" class="btn-primary" attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,running,done"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="date"/>
                                <field name="warehouse_id"/>
                                <field name="analysis_type"/>
                                <field name="date_from"/>
                                <field name="date_to"/>
                            </group>
                            <group>
                                <field name="total_products"/>
                                <field name="total_stock_value"/>
                                <field name="total_stock_quantity"/>
                                <field name="average_turnover_rate"/>
                            </group>
                        </group>
                        <group string="Kids Clothing Filters">
                            <group>
                                <field name="age_group_ids" widget="many2many_tags"/>
                                <field name="season"/>
                            </group>
                            <group>
                                <field name="brand_ids" widget="many2many_tags"/>
                                <field name="size_ids" widget="many2many_tags"/>
                                <field name="color_ids" widget="many2many_tags"/>
                            </group>
                        </group>
                        <group string="Timestamps">
                            <group>
                                <field name="create_date"/>
                                <field name="done_date"/>
                            </group>
                            <group>
                                <field name="created_by"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Analysis Lines">
                                <field name="analysis_line_ids" readonly="1">
                                    <tree string="Analysis Lines">
                                        <field name="product_id"/>
                                        <field name="product_name"/>
                                        <field name="stock_quantity"/>
                                        <field name="stock_value"/>
                                        <field name="turnover_rate"/>
                                        <field name="aging_0_30"/>
                                        <field name="aging_31_60"/>
                                        <field name="aging_61_90"/>
                                        <field name="aging_91_180"/>
                                        <field name="aging_181_365"/>
                                        <field name="aging_365_plus"/>
                                        <field name="seasonal_performance"/>
                                        <field name="seasonal_trend"/>
                                        <field name="abc_category"/>
                                        <field name="cumulative_percentage"/>
                                        <field name="xyz_category"/>
                                        <field name="demand_variability"/>
                                        <field name="age_group"/>
                                        <field name="size"/>
                                        <field name="brand"/>
                                        <field name="color"/>
                                        <field name="season"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        
        <!-- Stock Analysis Search View -->
        <record id="view_stock_analysis_search" model="ir.ui.view">
            <field name="name">stock.analysis.search</field>
            <field name="model">stock.analysis</field>
            <field name="arch" type="xml">
                <search string="Search Stock Analysis">
                    <field name="name"/>
                    <field name="warehouse_id"/>
                    <field name="analysis_type"/>
                    <field name="created_by"/>
                    <filter string="Draft" name="draft" domain="[('state', '=', 'draft')]"/>
                    <filter string="Running" name="running" domain="[('state', '=', 'running')]"/>
                    <filter string="Done" name="done" domain="[('state', '=', 'done')]"/>
                    <filter string="Cancelled" name="cancelled" domain="[('state', '=', 'cancelled')]"/>
                    <filter string="Turnover Analysis" name="turnover" domain="[('analysis_type', '=', 'turnover')]"/>
                    <filter string="Aging Analysis" name="aging" domain="[('analysis_type', '=', 'aging')]"/>
                    <filter string="Seasonal Analysis" name="seasonal" domain="[('analysis_type', '=', 'seasonal')]"/>
                    <filter string="Size Analysis" name="size_analysis" domain="[('analysis_type', '=', 'size_analysis')]"/>
                    <filter string="Brand Analysis" name="brand_analysis" domain="[('analysis_type', '=', 'brand_analysis')]"/>
                    <filter string="Color Analysis" name="color_analysis" domain="[('analysis_type', '=', 'color_analysis')]"/>
                    <filter string="Age Group Analysis" name="age_group_analysis" domain="[('analysis_type', '=', 'age_group_analysis')]"/>
                    <filter string="ABC Analysis" name="abc_analysis" domain="[('analysis_type', '=', 'abc_analysis')]"/>
                    <filter string="XYZ Analysis" name="xyz_analysis" domain="[('analysis_type', '=', 'xyz_analysis')]"/>
                    <filter string="Comprehensive Analysis" name="comprehensive" domain="[('analysis_type', '=', 'comprehensive')]"/>
                    <group expand="0" string="Group By">
                        <filter string="Analysis Type" name="group_analysis_type" context="{'group_by': 'analysis_type'}"/>
                        <filter string="Warehouse" name="group_warehouse" context="{'group_by': 'warehouse_id'}"/>
                        <filter string="Created By" name="group_created_by" context="{'group_by': 'created_by'}"/>
                        <filter string="Date" name="group_date" context="{'group_by': 'date:day'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <!-- Stock Analysis Actions -->
        <record id="action_stock_analysis" model="ir.actions.act_window">
            <field name="name">Stock Analysis</field>
            <field name="res_model">stock.analysis</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create your first stock analysis!
                </p>
                <p>
                    Stock analysis helps you understand inventory patterns and optimize stock management.
                </p>
            </field>
        </record>
        
        <record id="action_stock_analysis_turnover" model="ir.actions.act_window">
            <field name="name">Turnover Analysis</field>
            <field name="res_model">stock.analysis</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('analysis_type', '=', 'turnover')]</field>
            <field name="context">{}</field>
        </record>
        
        <record id="action_stock_analysis_aging" model="ir.actions.act_window">
            <field name="name">Aging Analysis</field>
            <field name="res_model">stock.analysis</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('analysis_type', '=', 'aging')]</field>
            <field name="context">{}</field>
        </record>
        
        <record id="action_stock_analysis_abc" model="ir.actions.act_window">
            <field name="name">ABC Analysis</field>
            <field name="res_model">stock.analysis</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('analysis_type', '=', 'abc_analysis')]</field>
            <field name="context">{}</field>
        </record>
        
        <record id="action_stock_analysis_xyz" model="ir.actions.act_window">
            <field name="name">XYZ Analysis</field>
            <field name="res_model">stock.analysis</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('analysis_type', '=', 'xyz_analysis')]</field>
            <field name="context">{}</field>
        </record>
        
        <!-- Stock Analysis Line Tree View -->
        <record id="view_stock_analysis_line_tree" model="ir.ui.view">
            <field name="name">stock.analysis.line.tree</field>
            <field name="model">stock.analysis.line</field>
            <field name="arch" type="xml">
                <tree string="Stock Analysis Lines">
                    <field name="product_id"/>
                    <field name="product_name"/>
                    <field name="stock_quantity"/>
                    <field name="stock_value"/>
                    <field name="turnover_rate"/>
                    <field name="aging_0_30"/>
                    <field name="aging_31_60"/>
                    <field name="aging_61_90"/>
                    <field name="aging_91_180"/>
                    <field name="aging_181_365"/>
                    <field name="aging_365_plus"/>
                    <field name="seasonal_performance"/>
                    <field name="seasonal_trend"/>
                    <field name="abc_category"/>
                    <field name="cumulative_percentage"/>
                    <field name="xyz_category"/>
                    <field name="demand_variability"/>
                    <field name="age_group"/>
                    <field name="size"/>
                    <field name="brand"/>
                    <field name="color"/>
                    <field name="season"/>
                </tree>
            </field>
        </record>
        
        <!-- Stock Analysis Line Form View -->
        <record id="view_stock_analysis_line_form" model="ir.ui.view">
            <field name="name">stock.analysis.line.form</field>
            <field name="model">stock.analysis.line</field>
            <field name="arch" type="xml">
                <form string="Stock Analysis Line">
                    <sheet>
                        <group>
                            <group>
                                <field name="product_id"/>
                                <field name="product_name"/>
                                <field name="stock_quantity"/>
                                <field name="stock_value"/>
                                <field name="turnover_rate"/>
                            </group>
                            <group>
                                <field name="age_group"/>
                                <field name="size"/>
                                <field name="brand"/>
                                <field name="color"/>
                                <field name="season"/>
                            </group>
                        </group>
                        <group string="Aging Analysis">
                            <group>
                                <field name="aging_0_30"/>
                                <field name="aging_31_60"/>
                                <field name="aging_61_90"/>
                            </group>
                            <group>
                                <field name="aging_91_180"/>
                                <field name="aging_181_365"/>
                                <field name="aging_365_plus"/>
                            </group>
                        </group>
                        <group string="Seasonal Analysis">
                            <group>
                                <field name="seasonal_performance"/>
                                <field name="seasonal_trend"/>
                            </group>
                        </group>
                        <group string="ABC Analysis">
                            <group>
                                <field name="abc_category"/>
                                <field name="cumulative_percentage"/>
                            </group>
                        </group>
                        <group string="XYZ Analysis">
                            <group>
                                <field name="xyz_category"/>
                                <field name="demand_variability"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        
        <!-- Stock Analysis Kanban View -->
        <record id="view_stock_analysis_kanban" model="ir.ui.view">
            <field name="name">stock.analysis.kanban</field>
            <field name="model">stock.analysis</field>
            <field name="arch" type="xml">
                <kanban string="Stock Analysis" class="o_kanban_small_column">
                    <field name="state"/>
                    <field name="analysis_type"/>
                    <field name="warehouse_id"/>
                    <field name="total_products"/>
                    <field name="total_stock_value"/>
                    <field name="total_stock_quantity"/>
                    <field name="average_turnover_rate"/>
                    <field name="created_by"/>
                    <field name="done_date"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card oe_kanban_global_click">
                                <div class="oe_kanban_content">
                                    <div class="o_kanban_record_top">
                                        <div class="o_kanban_record_headings">
                                            <strong class="o_kanban_record_title">
                                                <field name="name"/>
                                            </strong>
                                        </div>
                                        <div class="o_kanban_record_priority">
                                            <field name="state" widget="label_selection"/>
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_body">
                                        <div class="o_kanban_record_details">
                                            <div>
                                                <strong>Type:</strong> <field name="analysis_type"/>
                                            </div>
                                            <div>
                                                <strong>Warehouse:</strong> <field name="warehouse_id"/>
                                            </div>
                                            <div>
                                                <strong>Products:</strong> <field name="total_products"/>
                                            </div>
                                            <div>
                                                <strong>Stock Value:</strong> <field name="total_stock_value"/>
                                            </div>
                                            <div>
                                                <strong>Stock Quantity:</strong> <field name="total_stock_quantity"/>
                                            </div>
                                            <div>
                                                <strong>Avg Turnover:</strong> <field name="average_turnover_rate"/>
                                            </div>
                                            <div>
                                                <strong>Created By:</strong> <field name="created_by"/>
                                            </div>
                                            <div>
                                                <strong>Done Date:</strong> <field name="done_date"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        
    </data>
</odoo>