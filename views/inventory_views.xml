<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Stock Quant Form View -->
    <record id="view_stock_quant_form_kids_clothing" model="ir.ui.view">
        <field name="name">stock.quant.form.kids.clothing</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.view_stock_quant_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_id']" position="after">
                <separator string="Kids Clothing Information"/>
                <group>
                    <group>
                        <field name="size_variant"/>
                        <field name="color_variant"/>
                        <field name="age_group"/>
                        <field name="gender"/>
                        <field name="season"/>
                    </group>
                    <group>
                        <field name="safety_certification"/>
                        <field name="choking_hazard"/>
                        <field name="is_seasonal"/>
                    </group>
                </group>
                <separator string="Inventory Management"/>
                <group>
                    <group>
                        <field name="min_stock_level"/>
                        <field name="max_stock_level"/>
                        <field name="reorder_point"/>
                        <field name="reorder_qty"/>
                    </group>
                    <group>
                        <field name="last_sale_date"/>
                        <field name="total_sales"/>
                        <field name="avg_daily_sales"/>
                        <field name="days_of_stock"/>
                    </group>
                </group>
                <separator string="Seasonal Information"/>
                <group>
                    <group>
                        <field name="expiry_date"/>
                        <field name="season_start_date"/>
                        <field name="season_end_date"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>

    <!-- Stock Quant Tree View -->
    <record id="view_stock_quant_tree_kids_clothing" model="ir.ui.view">
        <field name="name">stock.quant.tree.kids.clothing</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.view_stock_quant_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_id']" position="after">
                <field name="size_variant"/>
                <field name="color_variant"/>
                <field name="age_group"/>
                <field name="gender"/>
                <field name="season"/>
                <field name="min_stock_level"/>
                <field name="days_of_stock"/>
            </xpath>
        </field>
    </record>

    <!-- Stock Quant Search View -->
    <record id="view_stock_quant_search_kids_clothing" model="ir.ui.view">
        <field name="name">stock.quant.search.kids.clothing</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.view_stock_quant_search"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='product_id']" position="after">
                <field name="age_group"/>
                <field name="gender"/>
                <field name="season"/>
                <field name="size_variant"/>
                <field name="color_variant"/>
            </xpath>
            <xpath expr="//filter[@name='in_stock']" position="after">
                <filter name="low_stock" string="Low Stock" domain="[('quantity', '&lt;=', 'min_stock_level')]"/>
                <filter name="out_of_stock" string="Out of Stock" domain="[('quantity', '=', 0)]"/>
                <filter name="overstocked" string="Overstocked" domain="[('quantity', '&gt;', 'max_stock_level')]"/>
                <filter name="seasonal" string="Seasonal Products" domain="[('is_seasonal', '=', True)]"/>
                <filter name="expiring_soon" string="Expiring Soon" domain="[('expiry_date', '&lt;=', datetime.datetime.now() + datetime.timedelta(days=30))]"/>
                <filter name="slow_moving" string="Slow Moving" domain="[('last_sale_date', '&lt;=', datetime.datetime.now() - datetime.timedelta(days=90))]"/>
                <filter name="fast_moving" string="Fast Moving" domain="[('avg_daily_sales', '&gt;=', 10)]"/>
            </xpath>
        </field>
    </record>

    <!-- Stock Quant Analytics Action -->
    <record id="action_stock_quant_analytics" model="ir.actions.act_window">
        <field name="name">Inventory Analytics</field>
        <field name="res_model">stock.quant</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('quantity', '>', 0)]</field>
        <field name="context">{'search_default_in_stock': 1}</field>
    </record>

    <!-- Stock Quant Analytics Menu -->
    <menuitem id="menu_stock_quant_analytics" 
              name="Inventory Analytics" 
              parent="stock.menu_stock_inventory_control" 
              action="action_stock_quant_analytics" 
              sequence="20"/>

    <!-- Age Group Analysis Action -->
    <record id="action_age_group_analysis" model="ir.actions.act_window">
        <field name="name">Age Group Analysis</field>
        <field name="res_model">stock.quant</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('age_group', '!=', False)]</field>
        <field name="context">{'group_by': ['age_group']}</field>
    </record>

    <!-- Gender Analysis Action -->
    <record id="action_gender_analysis" model="ir.actions.act_window">
        <field name="name">Gender Analysis</field>
        <field name="res_model">stock.quant</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('gender', '!=', False)]</field>
        <field name="context">{'group_by': ['gender']}</field>
    </record>

    <!-- Seasonal Analysis Action -->
    <record id="action_seasonal_analysis" model="ir.actions.act_window">
        <field name="name">Seasonal Analysis</field>
        <field name="res_model">stock.quant</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('season', '!=', False)]</field>
        <field name="context">{'group_by': ['season']}</field>
    </record>

    <!-- Analysis Menu -->
    <menuitem id="menu_inventory_analysis" 
              name="Inventory Analysis" 
              parent="stock.menu_stock_inventory_control" 
              sequence="30"/>
    
    <menuitem id="menu_age_group_analysis" 
              name="Age Group Analysis" 
              parent="menu_inventory_analysis" 
              action="action_age_group_analysis" 
              sequence="10"/>
    
    <menuitem id="menu_gender_analysis" 
              name="Gender Analysis" 
              parent="menu_inventory_analysis" 
              action="action_gender_analysis" 
              sequence="20"/>
    
    <menuitem id="menu_seasonal_analysis" 
              name="Seasonal Analysis" 
              parent="menu_inventory_analysis" 
              action="action_seasonal_analysis" 
              sequence="30"/>
</odoo>